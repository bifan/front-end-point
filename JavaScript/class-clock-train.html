<!DOCTYPE html>
<html lang="zh">
  <head>
    <title>æŠŠclock æ„é€ å™¨æ”¹ä¸ºclass</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
  </head>
  <body>
    <script>
      // å®˜æ–¹æä¾›çš„è§£å†³æ–¹æ¡ˆ (æ”¹å˜äº†å®ä¾‹å’Œå…¶åŸå‹ä¸­çš„çŠ¶æ€)
      class Clock1 {
        constructor({ template }) {
          this.template = template;
        }

        render() {
          let date = new Date();

          let hours = date.getHours();
          if (hours < 10) hours = "0" + hours;

          let mins = date.getMinutes();
          if (mins < 10) mins = "0" + mins;

          let secs = date.getSeconds();
          if (secs < 10) secs = "0" + secs;

          let output = this.template
            .replace("h", hours)
            .replace("m", mins)
            .replace("s", secs);

          console.log(output);
        }

        stop() {
          clearInterval(this.timer);
        }

        start() {
          this.render();
          this.timer = setInterval(() => this.render(), 1000);
        }
      }

      let clock = new Clock1({ template: "h:m:s" });
      // clock.start();
    </script>
    <script>
      // æˆ‘çš„ç­”æ¡ˆ, å’ŒåŸæ„é€ å™¨ä¸­çŠ¶æ€ä¸€è‡´
      // æ–°å®ä¾‹åªæœ‰ä¸¤ä¸ªå‡½æ•°, éƒ½å¸¦æœ‰é—­åŒ…
      // åŸå‹ä¸­æ²¡æœ‰ä¸œè¥¿
      // å°±æ˜¯æ— è„‘ä¸¢è¿›constructor, ğŸ˜„
      class MyClock {
        constructor({ template }) {
          let timer;

          function render() {
            let date = new Date();

            let hours = date.getHours();
            if (hours < 10) hours = "0" + hours;

            let mins = date.getMinutes();
            if (mins < 10) mins = "0" + mins;

            let secs = date.getSeconds();
            if (secs < 10) secs = "0" + secs;

            let output = template
              .replace("h", hours)
              .replace("m", mins)
              .replace("s", secs);

            console.log(output);
          }

          this.stop = function () {
            clearInterval(timer);
          };

          this.start = function () {
            render();
            timer = setInterval(render, 1000);
          };
        }
      }
      // const myclock = new MyClock({ template: "h:m:s" });
      // myclock.start();
    </script>
    <script>
      // ä»»åŠ¡, å°†æ„é€ å™¨ä¿®æ”¹æˆclass
      function Clock({ template }) {
        let timer;

        function render() {
          let date = new Date();

          let hours = date.getHours();
          if (hours < 10) hours = "0" + hours;

          let mins = date.getMinutes();
          if (mins < 10) mins = "0" + mins;

          let secs = date.getSeconds();
          if (secs < 10) secs = "0" + secs;

          let output = template
            .replace("h", hours)
            .replace("m", mins)
            .replace("s", secs);

          console.log(output);
        }

        this.stop = function () {
          clearInterval(timer);
        };

        this.start = function () {
          render();
          timer = setInterval(render, 1000);
        };
      }

      // let clock = new Clock({ template: "h:m:s" });
      // clock.start();
      // let clock1 = new Clock({ template: "h:m:s" });
      // clock1.start();
    </script>
  </body>
</html>
